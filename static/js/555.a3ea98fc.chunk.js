"use strict";(self.webpackChunkreact_typescript=self.webpackChunkreact_typescript||[]).push([[555],{7712:function(e,t,n){n.d(t,{Dm:function(){return l},gp:function(){return o},FZ:function(){return s},jN:function(){return c}});var i=n(4569),r=n.n(i)().create({baseURL:"/appo"}),a=r;function s(e){return a.request({method:"POST",url:"/reactList",data:e})}function o(e){return a.request({method:"GET",url:"/reactGetList",params:e})}function l(e){return a.request({method:"POST",url:"/getexamList",data:e})}function c(e){return a.request({method:"POST",url:"/submitExamLists",data:e})}r.interceptors.response.use((function(e){return e.data}))},7309:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(5671),r=n(3144),a=n(136),s=n(8557),o=n(2791),l=n(184),c=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"render",value:function(){return(0,l.jsx)("div",{className:"alert",children:this.props.children})}}]),n}(o.Component)},3555:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var i=n(5671),r=n(3144),a=n(136),s=n(8557),o=n(2791),l=n(7063),c=n(1358),d=n(7712),u=n(7309),f=n(9271),p=n(184),h=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).tabData=function(e){var t=[];localStorage.getItem("student");return e.forEach((function(e){var n={id:e.id,type:e.type,answer:null};t.push(n)})),t},e.state={dan:"",arr:e.tabData(e.props.allDatas),InterVal:null,ending:""},e.Myrefs=void 0,e.getLists=function(e){var t=Object.keys(e).filter((function(t){return"\u5355\u9009\u9898"===e.type||"\u591a\u9009\u9898"===e.type?-1!==t.indexOf("option"):"\u5224\u65ad\u9898"===e.type?-1!==t.indexOf("estimate"):"\u586b\u7a7a\u9898"===e.type?-1!==t.indexOf("answer"):-1!==t.indexOf("short")})),n=JSON.parse(JSON.stringify(t));return t.forEach((function(t){null===e[t]&&n.splice(n.indexOf(t),1)})),n},e.getEndTime=function(){var t=e.props,n=t.startTime,i=t.examId,r=e.state,a=(r.ending,r.arr),s=(new Date).getTime()-n,o=(Math.floor(s%864e5/36e5)>=10?Math.floor(s%864e5/36e5):Math.floor(s%864e5/36e5)>=0?"0"+Math.floor(s%864e5/36e5):"00")+":"+(Math.floor(s%36e5/6e4)>=10?Math.floor(s%36e5/6e4):Math.floor(s%36e5/6e4)>=0?"0"+Math.floor(s%36e5/6e4):"00")+":"+(Math.ceil(s%6e4/1e3)>=10?Math.ceil(s%6e4/1e3):Math.ceil(s%6e4/1e3)>=0?"0"+Math.ceil(s%6e4/1e3):"00"),l=localStorage.getItem("student"),c=JSON.parse(l);(0,d.jN)({id:c[0].id,ending:o,examList:a,examId:i}).then((function(t){console.log(t.code),"01"===t.code&&(console.log(e.props),e.props.history.push("/paper"))}))},e.submitExamList=function(){var t=e.state,n=t.ending,i=t.arr,r=localStorage.getItem("student"),a=JSON.parse(r);(0,d.jN)({id:a[0].id,ending:n,examList:i}).then((function(e){}))},e}return(0,r.Z)(n,[{key:"render",value:function(){var e=this,t=this.state,n=(t.dan,t.arr),i=(t.InterVal,this.props),r=i.allDatas,a=(i.startTime,i.count);return(0,p.jsxs)("div",{className:"box",children:[(0,p.jsxs)("div",{className:"boxList",children:[r.map((function(t,i){return(0,p.jsxs)("div",{className:"littleBox",children:[(0,p.jsxs)("h2",{children:[i+1,".",t.topic_nav,"(",t.type,")"]}),t.topic_img?(0,p.jsx)("img",{src:"http://192.168.5.104:7777/"+t.topic_img,alt:"",className:"img"}):"",(0,p.jsx)("div",{children:e.getLists(t).map((function(e,i){return-1===e.indexOf("img")?(0,p.jsxs)("div",{className:"answer",children:["\u5355\u9009\u9898"===t.type?(0,p.jsxs)("div",{children:[(0,p.jsx)("input",{type:"radio",className:"fill","data-key":e+","+t.id,name:t.id,value:e,onChange:function(i){var r=n.findIndex((function(e){return e.id===t.id}));n[r].answer=e,console.log(n)}}),t[e]]}):"","\u591a\u9009\u9898"===t.type?(0,p.jsxs)("div",{className:"answers",children:[(0,p.jsx)("input",{type:"checkbox",className:"fill","data-key":e+","+t.id,value:e,onChange:function(i){var r=n.findIndex((function(e){return e.id===t.id}));if(null===n[r].answer)n[r].answer=e;else if(-1===n[r].answer.indexOf(e)){var a=n[r].answer.split(",");a.push(e),n[r].answer=a.join(",")}else{var s=n[r].answer.split(",");s.splice(s.indexOf(e),1),n[r].answer=s.join(",")}}}),t[e]]}):"","\u5224\u65ad\u9898"===t.type?(0,p.jsxs)("div",{children:[(0,p.jsx)("input",{type:"radio",className:"fill","data-key":e+","+t.id,name:"idx"+t.id,value:e,onChange:function(i){var r=n.findIndex((function(e){return e.id===t.id}));n[r].answer=e,console.log(n[r])}}),t[e]]}):"","\u7b80\u7b54\u9898"===t.type?(0,p.jsx)("div",{contentEditable:"true",suppressContentEditableWarning:!0,className:"short","data-key":e+","+t.id,onInput:function(e){var i=n.findIndex((function(e){return e.id===t.id}));n[i].answer=e.target.innerText}}):"","\u586b\u7a7a\u9898"===t.type?(0,p.jsx)("div",{contentEditable:"true",className:"fill","data-key":e+","+t.id,suppressContentEditableWarning:!0,onInput:function(e){var i=n.findIndex((function(e){return e.id===t.id}));n[i].answer=e.target.innerText},children:t[e]}):""]},i):(0,p.jsx)("img",{src:"http://192.168.5.104:7777/"+t[e],className:"images"})}))})]},i)})),a>=3?(0,p.jsx)(u.Z,{children:(0,p.jsx)("div",{className:"box",children:(0,p.jsxs)("div",{className:"littleBox",children:[(0,p.jsx)(l.ZP,{status:"warning",className:"result"}),(0,p.jsx)("h3",{children:"\u60a8\u5df2\u5207\u5c4f\u4e09\u6b21\uff0c\u8bf7\u4ea4\u5377\uff01"}),(0,p.jsx)(c.Z,{type:"primary",onClick:function(){document.querySelectorAll(".fill");e.getEndTime()},children:"\u4ea4\u5377"})]})})}):""]}),(0,p.jsx)(c.Z,{type:"primary",className:"examination",onClick:function(){document.querySelectorAll(".fill");e.getEndTime()},children:"\u4ea4\u5377"})]})}}]),n}(o.Component),m=(0,f.EN)(h)}}]);
//# sourceMappingURL=555.a3ea98fc.chunk.js.map