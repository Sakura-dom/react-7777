{"version":3,"file":"static/js/555.a3ea98fc.chunk.js","mappings":"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","sources":["utils/request.ts","api/index.tsx","components/alert/alert.tsx","components/topic/topic.tsx"],"sourcesContent":["import axios from 'axios';\n\nconst httpProvider = axios.create({\n  baseURL:'/appo'\n});\nexport default httpProvider;\n\n// httpProvider.interceptors.request.use(\n//   (config:any) => {\n//     const token = window.localStorage.getItem('token');\n//     if(token){\n//       config.headers.heelo = `${token}`;\n//     }\n//     return config;\n//   },\n//   () => {\n//     throw new Error(\"请求出错\");\n//   }\n// );\n\nhttpProvider.interceptors.response.use(//相应拦截\n  res => {\n    return res.data;\n  }\n);","import  httpProvider  from \"../utils/request\";\n\nexport  function reactList(data?:object){\n  return  httpProvider.request({\n    method:'POST',\n    url:'/reactList',\n    data\n  });\n}\n\n// 一进页面的请求\nexport  function getList(data:object){\n  return  httpProvider.request({\n    method:'GET',\n    url:'/reactGetList',\n    params:data\n  });\n}\n\n// 点击开始考试的时候渲染的数据\nexport  function getExamList(data:object){\n  return  httpProvider.request({\n    method:'POST',\n    url:'/getexamList',\n    data\n  });\n}\n//\n// 点击交卷的时候提交的考试信息\nexport  function submitExam(data:object){\n  return  httpProvider.request({\n    method:'POST',\n    url:'/submitExamLists',\n    data\n  });\n}","import React, { Component } from 'react';\nimport './alert.less';\nimport { Button,Result } from 'antd';\ninterface Iprops{\n  children?:any\n}\nexport default class alert extends Component<Iprops> {\n  render() {\n    return (\n      <div className='alert'>\n        {this.props.children}\n        {/* <div className=\"box\">\n          <div className=\"littleBox\">\n            <Result\n              status=\"warning\"\n              className='result'\n            />\n            <h3>您已切屏三次了，请交卷！</h3>\n            <Button type=\"primary\">交卷</Button>\n          </div>\n        </div> */}\n      </div>\n    );\n  }\n}\n","import { log } from 'console';\nimport React, { Component } from 'react';\nimport { Button ,Result} from 'antd';\nimport './topic.less';\nimport {submitExam} from '../../api/index';\nimport Alerts from '../alert/alert';\nimport {withRouter} from 'react-router-dom';\n\ninterface Iprops{\n  allDatas?:any,\n  startTime?:any,\n  examId?:any,\n  count?:any,\n  history?:any\n}\n\ninterface IState{\n  dan?:any,\n  Myrefs?:any\n}\nclass Topic extends Component<Iprops> {\n  tabData=(data:any)=>{\n    const arry:any=[];\n    const student:any=localStorage.getItem('student');\n    // console.log(student);\n    \n    data.forEach((item:any)=>{\n      const obj={\n        // student_id:JSON.parse(student).name,\n        id:item.id,\n        type:item.type,\n        answer:null\n      };\n      arry.push(obj);\n    });\n    // console.log(arry);\n    \n    return arry;\n  };\n  state = {\n    dan:'',\n    arr:this.tabData(this.props.allDatas),\n    InterVal:null,\n    ending:''\n  };\n  Myrefs: any;\n  render() {\n    const {dan,arr,InterVal} = this.state;\n    \n    const {allDatas,startTime,count} = this.props;\n    return (\n      <div className='box'>\n        <div className=\"boxList\">\n          {\n            allDatas.map((item:any,index:number) => {\n              return <div key={index} className=\"littleBox\">\n                <h2>{index + 1}.{item.topic_nav}({item.type})</h2>\n                {\n                  item.topic_img ? <img src={'http://192.168.5.104:7777/'+item.topic_img} alt=\"\" className='img'/> : ''\n                }\n                \n                <div>\n                  {\n\n                    this.getLists(item).map((ite:any,idx:number) => {\n                      \n                      return ite.indexOf('img')===-1?\n                        <div key={idx} className=\"answer\">\n                          {\n                            item.type === \"单选题\" ? <div>\n                              <input type=\"radio\" className='fill' data-key={ite+','+item.id} name={item.id} value={ite} onChange={(e) => {\n                                const index=arr.findIndex((ito:any)=>ito.id===item.id);\n                                arr[index].answer=ite;\n                                console.log(arr);\n                            \n                              }} />{item[ite]}</div> : ''\n                          }\n                          {\n                            item.type === \"多选题\" ? <div className='answers'><input type=\"checkbox\" className='fill' data-key={ite+','+item.id} value={ite} onChange={(e) => {\n                              const index=arr.findIndex((ito:any)=>ito.id===item.id);\n                              if(arr[index].answer===null){\n                                arr[index].answer=ite;\n                              }else{\n                                if(arr[index].answer.indexOf(ite)===-1){\n                                  const arry=arr[index].answer.split(',');\n                                  arry.push(ite);\n                                  arr[index].answer=arry.join(',');\n                                \n                                }else{\n                                  const arry=arr[index].answer.split(',');\n                                  arry.splice(arry.indexOf(ite),1);\n                                  arr[index].answer=arry.join(',');\n                                }\n                              }\n                            \n                            \n                            }} />{item[ite]}</div> : ''\n                          }\n                          {\n                            item.type === \"判断题\" ? <div><input type=\"radio\" className='fill'  data-key={ite+','+item.id} name={\"idx\" + item.id}  value={ite} onChange={(e) => {\n                              const index=arr.findIndex((ito:any)=>ito.id===item.id);\n                              arr[index].answer=ite;\n                              console.log(arr[index]);\n                            \n                            }}/>{item[ite]}</div> : ''\n                          }\n                          {\n                            item.type === \"简答题\" ? <div contentEditable=\"true\"  suppressContentEditableWarning={true} className='short'  data-key={ite+','+item.id} onInput={(e:any)=>{\n                              const index=arr.findIndex((ito:any)=>ito.id===item.id);\n                              arr[index].answer=e.target.innerText;\n                            \n                            }}\n                            ></div> : ''\n                          }\n                          {\n                            item.type === \"填空题\" ? <div contentEditable=\"true\" className='fill' data-key={ite+','+item.id} suppressContentEditableWarning={true}  onInput={(e:any)=>{\n                              const index=arr.findIndex((ito:any)=>ito.id===item.id);\n                              arr[index].answer=e.target.innerText;\n                            \n                            }} >{item[ite]}</div> : ''\n                          }\n                        </div>:<img src={'http://192.168.5.104:7777/'+item[ite]} className=\"images\"></img>;\n                    })\n                  }\n                </div>\n              </div>;\n            })\n          }\n          {\n            count >=3 ? <Alerts>\n              <div className=\"box\">\n                <div className=\"littleBox\">\n                  <Result\n                    status=\"warning\"\n                    className='result'\n                  />\n                  <h3>您已切屏三次，请交卷！</h3>\n                  <Button type=\"primary\" onClick={() => {\n\n                    const res:any=document.querySelectorAll('.fill');\n\n                    this.getEndTime();\n                  }}>交卷</Button>\n                </div>\n              </div>\n            </Alerts> : ''\n          }\n        </div>\n        <Button type=\"primary\" className='examination' onClick={() => {\n          const res:any=document.querySelectorAll('.fill');\n          // console.log(res[0]);\n          // console.log(res[0].innerHTML);\n          // // console.log(res[0].dataset.key);\n          // console.log(arr);\n          this.getEndTime();\n          // this.submitExamList();\n        }}>交卷</Button>\n      </div>\n    );\n  }\n  getLists=(answers:any)=>{  \n    // console.log(answers);\n    \n    const arry=Object.keys(answers).filter((ita) => {\n      if(answers.type === \"单选题\"){\n        return ita.indexOf(\"option\") !== -1;\n      }else if(answers.type === \"多选题\"){\n        return ita.indexOf(\"option\") !== -1;\n      }else if(answers.type === \"判断题\"){\n        return ita.indexOf(\"estimate\") !== -1;\n      }else if(answers.type === \"填空题\"){\n        return ita.indexOf(\"answer\") !== -1;\n      }else{\n        return ita.indexOf('short') !== -1;\n      }\n    });    \n\n    \n\n    const arr=JSON.parse(JSON.stringify(arry));\n    // console.log(arr);\n    \n    arry.forEach(item=>{\n      answers[item]===null?arr.splice(arr.indexOf(item),1):'';\n    });\n    // console.log(arr);\n    \n    return arr;\n  };\n \n  // 点击获取交卷的时间\n  getEndTime = () => {\n    const {startTime,examId} = this.props;\n    const {ending,arr} = this.state;\n    const endTime = new Date().getTime();\n    const cha = endTime - startTime;\n    // 算小时\n    const nowhours = Math.floor((cha % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)) >= 10 ? Math.floor((cha % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)) : (Math.floor((cha % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)) >= 0 ? '0' + Math.floor((cha % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)) : '00');\n    // 算分钟\n    const nowMin = Math.floor((cha % (1000 * 60 * 60)) / (1000 * 60)) >= 10 ? Math.floor((cha % (1000 * 60 * 60)) / (1000 * 60)) : (Math.floor((cha % (1000 * 60 * 60)) / (1000 * 60)) >= 0 ? '0' + Math.floor((cha % (1000 * 60 * 60)) / (1000 * 60)) : '00');\n    // 算秒数\n    const nowSen = Math.ceil((cha % (1000 * 60)) / 1000) >= 10 ? Math.ceil((cha % (1000 * 60)) / 1000) : (Math.ceil((cha % (1000 * 60)) / 1000) >= 0 ? '0' + Math.ceil((cha % (1000 * 60)) / 1000) : '00');\n\n    const time = nowhours + ':' + nowMin + ':' + nowSen;\n    // console.log(time);\n    // this.setState({ending:time});\n    \n    const student:any=localStorage.getItem('student');\n    // console.log(JSON.parse(student));\n    const students = JSON.parse(student);\n    // console.log(s[0].id);\n    \n    \n    submitExam({id:students[0].id,ending:time,examList:arr,examId}).then((res:any) => {\n      console.log(res.code);\n      if(res.code === '01'){\n        console.log(this.props);\n        \n        this.props.history.push(\"/paper\");\n      }\n      \n    });\n  };\n  // 点交卷的时候提交的考试信息\n  submitExamList = () => {\n    const {ending,arr} = this.state;\n    const student:any=localStorage.getItem('student');\n    const students = JSON.parse(student);\n    submitExam({id:students[0].id,ending,examList:arr}).then(res => {\n      // console.log(res);\n\n      \n    });\n  };\n}\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n//@ts-ignore\nexport default withRouter(Topic);"],"names":["httpProvider","axios","baseURL","reactList","data","method","url","getList","params","getExamList","submitExam","interceptors","response","use","res","alert","className","this","props","children","Component","Topic","tabData","arry","localStorage","getItem","forEach","item","obj","id","type","answer","push","state","dan","arr","allDatas","InterVal","ending","Myrefs","getLists","answers","Object","keys","filter","ita","indexOf","JSON","parse","stringify","splice","getEndTime","startTime","examId","cha","Date","getTime","time","Math","floor","ceil","student","students","examList","then","console","log","code","history","submitExamList","count","map","index","topic_nav","topic_img","src","alt","ite","idx","name","value","onChange","e","findIndex","ito","split","join","contentEditable","suppressContentEditableWarning","onInput","target","innerText","status","onClick","document","querySelectorAll","withRouter"],"sourceRoot":""}